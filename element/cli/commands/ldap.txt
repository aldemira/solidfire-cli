<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE reference PUBLIC "-//OASIS//DTD DITA Reference//EN" "reference.dtd">
<reference id="GUID-FC4AF171-310F-4FD7-829D-A001202587B2" xml:lang="en">
   <title id="GUID-622436CC-76F9-4BB4-A2B1-D05F6752F6CD">Login session commands</title>
   <shortdesc cid="29MFm">This section describes the login session commands that you can use in the tool.</shortdesc>
   <prolog cid="2HIyNN">
      <metadata>
         <keywords>
            <?xm-replace_text Insert index entries here. How to do it: Use Alt + Shift + X or insert indexterm from the element list. Basics: Use first level entries for title nouns and second level entries to identify the purpose of the topic, as reflected by the title and shortdesc.  ?>
         </keywords>
      </metadata>
   </prolog>
   <refbody cid="1zXwwo">
      <section>
         <title>
            sfcli LDAP addclusteradmin
            <varname cid="1IOAZZ">options</varname>
         </title>
         <table>
            <tgroup cols="2" cid="Nirny">
               <colspec colnum="1" colname="col1" colwidth="1.34*" cid="21O9D4" />
               <colspec colnum="2" colname="col2" colwidth="1.00*" cid="EKRMv" />
               <thead cid="23Fc7a">
                  <row cid="13uyDN">
                     <entry colname="col1" cid="2x5tN">Description</entry>
                     <entry colname="col2" cid="13UHCG">Options</entry>
                  </row>
               </thead>
               <tbody cid="7uqUX">
                  <row cid="2EBjiH">
                     <entry colname="col1" cid="1Thqa5">
                        <apiname>AddLdapClusterAdmin</apiname> enables you to add a new LDAP cluster administrator user. An LDAP cluster administrator can manage the cluster via the API and management tools. LDAP cluster admin accounts are completely separate and unrelated to standard tenant accounts. You can also use this method to add an LDAP group that has been defined in Active Directory. The <parmname>access</parmname level that is given to the group is passed to the individual users in the LDAP group. 
                     </entry>
                     <entry colname="col2" cid="sKwWv">
                        <parmname>username</parmname>
                        : The distinguished user name for the new LDAP cluster admin. 
                        <parmname>access</parmname>
                        : Controls which methods this Cluster Admin can use. For more details on the levels of <parmname>access</parmname, see the Access Control appendix in the SolidFire API Reference. 
                        <parmname>accepteula</parmname>
                        : Accept the End User License Agreement. Set to true to add a cluster administrator account to the system. If omitted or set to false, the method call fails. 
                        <parmname>attributes</parmname>
                        : List of name-value pairs in JSON object format. 
                     </entry>
                  </row>
               </tbody>
            </tgroup>
         </table>
      </section>
      <section>
         <title>
            sfcli LDAP getconfiguration
            <varname cid="1IOAZZ">options</varname>
         </title>
         <table>
            <tgroup cols="2" cid="Nirny">
               <colspec colnum="1" colname="col1" colwidth="1.34*" cid="21O9D4" />
               <colspec colnum="2" colname="col2" colwidth="1.00*" cid="EKRMv" />
               <thead cid="23Fc7a">
                  <row cid="13uyDN">
                     <entry colname="col1" cid="2x5tN">Description</entry>
                     <entry colname="col2" cid="13UHCG">Options</entry>
                  </row>
               </thead>
               <tbody cid="7uqUX">
                  <row cid="2EBjiH">
                     <entry colname="col1" cid="1Thqa5">
                        The <apiname>GetLdapConfiguration</apiname> method enables you to get the currently active LDAP configuration on the cluster. 
                     </entry>
                     <entry colname="col2" cid="sKwWv">None</entry>
                  </row>
               </tbody>
            </tgroup>
         </table>
      </section>
      <section>
         <title>
            sfcli LDAP testauthentication
            <varname cid="1IOAZZ">options</varname>
         </title>
         <table>
            <tgroup cols="2" cid="Nirny">
               <colspec colnum="1" colname="col1" colwidth="1.34*" cid="21O9D4" />
               <colspec colnum="2" colname="col2" colwidth="1.00*" cid="EKRMv" />
               <thead cid="23Fc7a">
                  <row cid="13uyDN">
                     <entry colname="col1" cid="2x5tN">Description</entry>
                     <entry colname="col2" cid="13UHCG">Options</entry>
                  </row>
               </thead>
               <tbody cid="7uqUX">
                  <row cid="2EBjiH">
                     <entry colname="col1" cid="1Thqa5">
                        The <apiname>TestLdapAuthentication</apiname> method enables you to validate the currently enabled LDAP authentication settings. If the configuration is correct, the API call returns the group membership of the tested user. 
                     </entry>
                     <entry colname="col2" cid="sKwWv">
                        <parmname>username</parmname>
                        : The <parmname>username</parmname to be tested. 
                        <parmname>password</parmname>
                        : The <parmname>password</parmname for the <parmname>username</parmname to be tested. 
                        <parmname>ldapconfiguration</parmname>
                        : An <parmname>ldapConfiguration</parmname object to be tested. If specified, the API call tests the provided configuration even if LDAP authentication is disabled. 
                     </entry>
                  </row>
               </tbody>
            </tgroup>
         </table>
      </section>
      <section>
         <title>
            sfcli LDAP disableauthentication
            <varname cid="1IOAZZ">options</varname>
         </title>
         <table>
            <tgroup cols="2" cid="Nirny">
               <colspec colnum="1" colname="col1" colwidth="1.34*" cid="21O9D4" />
               <colspec colnum="2" colname="col2" colwidth="1.00*" cid="EKRMv" />
               <thead cid="23Fc7a">
                  <row cid="13uyDN">
                     <entry colname="col1" cid="2x5tN">Description</entry>
                     <entry colname="col2" cid="13UHCG">Options</entry>
                  </row>
               </thead>
               <tbody cid="7uqUX">
                  <row cid="2EBjiH">
                     <entry colname="col1" cid="1Thqa5">
                        The <apiname>DisableLdapAuthentication</apiname> method enables you to disable LDAP authentication and remove all LDAP configuration settings. This method does not remove any configured cluster admin accounts (user or group). However, those cluster admin accounts will no longer be able to log in. 
                     </entry>
                     <entry colname="col2" cid="sKwWv">None</entry>
                  </row>
               </tbody>
            </tgroup>
         </table>
      </section>
      <section>
         <title>
            sfcli LDAP enableauthentication
            <varname cid="1IOAZZ">options</varname>
         </title>
         <table>
            <tgroup cols="2" cid="Nirny">
               <colspec colnum="1" colname="col1" colwidth="1.34*" cid="21O9D4" />
               <colspec colnum="2" colname="col2" colwidth="1.00*" cid="EKRMv" />
               <thead cid="23Fc7a">
                  <row cid="13uyDN">
                     <entry colname="col1" cid="2x5tN">Description</entry>
                     <entry colname="col2" cid="13UHCG">Options</entry>
                  </row>
               </thead>
               <tbody cid="7uqUX">
                  <row cid="2EBjiH">
                     <entry colname="col1" cid="1Thqa5">
                        The <apiname>EnableLdapAuthentication</apiname> method enables you to configure an LDAP directory connection to use for LDAP authentication to a cluster. Users that are members of the LDAP directory can then log in to the storage system using their LDAP credentials. 
                     </entry>
                     <entry colname="col2" cid="sKwWv">
                        <parmname>authtype</parmname>
                        : Identifies which user authentication method to use. Must be one of the following: DirectBind SearchAndBind 
                        <parmname>groupsearchbasedn</parmname>
                        : The base DN of the tree to start the group search (will do a subtree search from here). 
                        <parmname>groupsearchcustomfilter</parmname>
                        : For use with the CustomFilter search type, an LDAP filter to use to return the DNs of a users groups. The string can have placeholder text of %USERNAME% and %USERDN% to be replaced with their username and full userDN as needed. 
                        <parmname>groupsearchtype</parmname>
                        : Controls the default group search filter used, and must be one of the following: NoGroups: No group support. ActiveDirectory: Nested membership of all of a users AD groups. MemberDN: MemberDN style groups (single level). 
                        <parmname>searchbinddn</parmname>
                        : A fully qualified DN to log in with to perform an LDAP search for the user (needs read access to the LDAP directory). 
                        <parmname>searchbindpassword</parmname>
                        : The password for the <parmname>searchBindDN</parmname account used for searching. 
                        <parmname>serveruris</parmname>
                        : A comma-separated list of LDAP server URIs (examples: "ldap://1.2.3.4" and ldaps://1.2.3.4:123") 
                        <parmname>userdntemplate</parmname>
                        : A string that is used to form a fully qualified user DN. The string should have the placeholder text %USERNAME%, which is replaced with the username of the authenticating user. 
                        <parmname>usersearchbasedn</parmname>
                        : The base DN of the tree to start the search (will do a subtree search from here). 
                        <parmname>usersearchfilter</parmname>
                        : The LDAP filter to use. The string should have the placeholder text %USERNAME% which is replaced with the username of the authenticating user. Example: (&(objectClass=person)(sAMAccountName=%USERNAME%)) will use the sAMAccountName field in Active Directory to match the username entered at cluster login. 
                     </entry>
                  </row>
               </tbody>
            </tgroup>
         </table>
      </section>
   </refbody>
</reference>